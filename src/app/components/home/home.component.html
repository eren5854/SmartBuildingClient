<div class="row page-titles">
    <ol class="breadcrumb">
        <li class="breadcrumb-item active"><a routerLink="/sensors">Dashboard</a></li>
        <li class="breadcrumb-item"><a routerLink="/sensor/"></a></li>
    </ol>
</div>
<div class="row">
    <div class="col-xl-12">
        <div class="card">
            <div class="card-body">
                <h3>Işıklar ve Röleler</h3>
                <div class="row">

                    <div *ngFor="let room of lightRooms;" class="col-xl-3 col-xxl-3 col-sm-6 mt-3">
                        <div class="card overflow-hidden">
                            <div class="social-graph-wrapper widget-facebook">
                                <span class="s-icon">{{room.roomName}}</span>
                            </div>
                            <div class="row">
                                @for (device of room.devices; track device) {
                                    @for (sensor of device.sensorDatas; track sensor) {
                                        <div *ngIf="sensor.sensorType?.value === 1 || sensor.sensorType?.value === 2" class="col-6 border-end">
                                            <div class="pt-3 pb-3 ps-0 pe-0 text-center">
                                                <label class="switch">
                                                    <input type="checkbox" [checked]="sensor.value === 1"
                                                        (change)="onToggleSwitch(sensor, $event)">
                                                    <span class="slider round"></span>
                                                </label>
                                                <p class="m-0">{{ sensor.dataName }}</p>
                                            </div>
                                        </div>
                                    }
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- <div class="col-xl-12">
        <div class="card">
            <div class="card-body">
                <h3>Röleler</h3>
                <div class="row">

                    <div *ngFor="let room of rooms;" class="col-xl-3 col-xxl-3 col-sm-6 mt-3">
                        <div class="card overflow-hidden">
                            <div class="social-graph-wrapper widget-facebook">
                                <span class="s-icon">{{room.roomName}}</span>
                            </div>
                            <div class="row">
                                <div *ngFor="let sensor of room.getAllSensor;" class="col-6 border-end">
                                    <div *ngIf="sensor.sensorType === 1 || sensor.sensorType === 2" class="pt-3 pb-3 ps-0 pe-0 text-center">
                                        <label class="switch">
                                            <input type="checkbox" [checked]="sensor.data1 === 1"
                                                (change)="onToggleSwitch(sensor, $event)">
                                            <span class="slider round"></span>
                                        </label>
                                        <p class="m-0">{{ sensor.sensorName }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> -->

    <div class="col-xl-12">
        <div class="card">
            <div class="card-body">
                <h3>Termometreler</h3>
                <div class="row">

                    <div *ngFor="let room of tempRooms;" class="col-xl-3 col-xxl-3 col-sm-6 mt-3">
                        <div class="card overflow-hidden">
                            <div class="social-graph-wrapper widget-twitter">
                                <span class="s-icon">{{room.roomName}}</span>
                            </div>
                            <div class="row">
                                @for (device of room.devices; track device) {
                                    @for (sensor of device.sensorDatas; track sensor) {
                                        <div *ngIf="sensor.sensorType?.value === 3 || sensor.sensorType?.value === 4" class="col-6 border-end">
                                            <div class="pt-3 pb-3 ps-0 pe-0 text-center">
                                                <h2 *ngIf="sensor.sensorType?.value === 3" class="m-1"><span class="counter">{{ sensor.value?.toFixed(2) }} °C</span></h2>
                                                <h2 *ngIf="sensor.sensorType?.value === 4" class="m-1"><span class="counter">{{ sensor.value }} %</span></h2>
                                                <p class="m-0">{{sensor.dataName}}</p>
                                            </div>
                                        </div>
                                    }
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>